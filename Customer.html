<!DOCTYPE html>
<html lang="en">
<!-- Previous head section remains same until styles -->
<style>
/* Previous styles remain same, adding new styles below */

.loan-details-card {
    background: linear-gradient(135deg, #fff, #f8f9fa);
    border: none;
    border-radius: 15px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
    margin-bottom: 25px;
}

.loan-info {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    padding: 20px;
}

.loan-info-item {
    padding: 15px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.03);
}

.info-label {
    color: #6c757d;
    font-size: 0.9rem;
    margin-bottom: 5px;
}

.info-value {
    color: var(--primary-color);
    font-size: 1.1rem;
    font-weight: 600;
}

.emi-schedule {
    max-height: 400px;
    overflow-y: auto;
}

.emi-schedule::-webkit-scrollbar {
    width: 8px;
}

.emi-schedule::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 10px;
}

.emi-schedule::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 10px;
}

.emi-row {
    transition: all 0.3s ease;
}

.emi-row:hover {
    background-color: #f8f9fa;
}

.notification-badge {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.notification-count {
    position: absolute;
    top: -8px;
    right: -8px;
    background: var(--accent-color);
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    font-size: 0.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.notification-panel {
    position: fixed;
    right: 20px;
    top: 80px;
    width: 300px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    display: none;
}

.notification-item {
    padding: 15px;
    border-bottom: 1px solid #eee;
    transition: all 0.3s ease;
}

.notification-item:hover {
    background: #f8f9fa;
}

.notification-item:last-child {
    border-bottom: none;
}

.payment-modal .modal-content {
    border-radius: 15px;
    border: none;
}

.payment-option {
    border: 2px solid #dee2e6;
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 15px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.payment-option:hover {
    border-color: var(--secondary-color);
    background: #f8f9fa;
}

.payment-option.selected {
    border-color: var(--secondary-color);
    background: rgba(52, 152, 219, 0.1);
}

.due-soon {
    color: var(--accent-color);
    font-weight: 500;
}

.paid {
    color: #2ecc71;
}

</style>
</head>
<body>

<!-- Previous Login Form section remains same -->

<!-- Dashboard -->
<div class="dashboard" id="dashboard">
    <!-- Previous Navbar section with added notification button -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'><path d='M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5'/></svg>" 
                     alt="Logo" class="logo">
                Loan Portal
            </a>
            <div class="d-flex align-items-center gap-3">
                <div class="notification-badge">
                    <button class="btn btn-custom btn-logout" onclick="toggleNotifications()">
                        <i class="fas fa-bell"></i>
                    </button>
                    <span class="notification-count">3</span>
                </div>
                <p class="welcome-text" id="welcomeMessage"></p>
                <button class="btn btn-custom btn-logout" onclick="logout()">
                    <i class="fas fa-sign-out-alt me-2"></i>Logout
                </button>
            </div>
        </div>
    </nav>

    <!-- Notifications Panel -->
    <div class="notification-panel" id="notificationPanel">
        <div class="p-3 border-bottom">
            <h6 class="mb-0">Notifications</h6>
        </div>
        <div class="notification-item">
            <div class="d-flex align-items-center">
                <i class="fas fa-clock text-warning me-2"></i>
                <div>
                    <p class="mb-1 fw-medium">EMI Due Soon</p>
                    <small class="text-muted">Your EMI of ₹15,000 is due in 3 days</small>
                </div>
            </div>
        </div>
        <div class="notification-item">
            <div class="d-flex align-items-center">
                <i class="fas fa-check-circle text-success me-2"></i>
                <div>
                    <p class="mb-1 fw-medium">Payment Successful</p>
                    <small class="text-muted">Last EMI payment received</small>
                </div>
            </div>
        </div>
        <div class="notification-item">
            <div class="d-flex align-items-center">
                <i class="fas fa-info-circle text-primary me-2"></i>
                <div>
                    <p class="mb-1 fw-medium">Statement Generated</p>
                    <small class="text-muted">Monthly statement is ready</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Content -->
    <div class="container mt-4">
        <!-- Loan Details Card -->
        <div class="card loan-details-card mb-4">
            <div class="card-body">
                <h5 class="card-title">
                    <i class="fas fa-file-invoice-dollar me-2 text-primary"></i>
                    Loan Details
                </h5>
                <div class="loan-info">
                    <div class="loan-info-item">
                        <div class="info-label">Loan Account Number</div>
                        <div class="info-value">LOAN123456789</div>
                    </div>
                    <div class="loan-info-item">
                        <div class="info-label">Approved Amount</div>
                        <div class="info-value">₹5,00,000</div>
                    </div>
                    <div class="loan-info-item">
                        <div class="info-label">Loan Tenure</div>
                        <div class="info-value">36 Months</div>
                    </div>
                    <div class="loan-info-item">
                        <div class="info-label">Interest Rate</div>
                        <div class="info-value">8.5% p.a.</div>
                    </div>
                    <div class="loan-info-item">
                        <div class="info-label">EMI Amount</div>
                        <div class="info-value">₹15,000</div>
                    </div>
                    <div class="loan-info-item">
                        <div class="info-label">Next Due Date</div>
                        <div class="info-value due-soon">05 Mar 2024</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- EMI Payment and Schedule -->
        <div class="row">
            <div class="col-md-4">
                <div class="card loan-status-card">
                    <div class="card-body">
                        <h5 class="card-title">
                            <i class="fas fa-money-bill-wave me-2 text-primary"></i>
                            Pay EMI
                        </h5>
                        <div class="text-center mb-4">
                            <div class="stat-number">₹15,000</div>
                            <div class="text-muted">Due on 05 Mar 2024</div>
                        </div>
                        <button class="btn btn-custom btn-primary w-100" data-bs-toggle="modal" data-bs-target="#paymentModal">
                            <i class="fas fa-credit-card me-2"></i>Pay Now
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-md-8">
                <div class="card loan-status-card">
                    <div class="card-body">
                        <h5 class="card-title">
                            <i class="fas fa-calendar-alt me-2 text-primary"></i>
                            EMI Schedule
                        </h5>
                        <div class="emi-schedule">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Due Date</th>
                                        <th>EMI Amount</th>
                                        <th>Principal</th>
                                        <th>Interest</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="emi-row">
                                        <td>05 Jan 2024</td>
                                        <td>₹15,000</td>
                                        <td>₹12,750</td>
                                        <td>₹2,250</td>
                                        <td><span class="badge bg-success">Paid</span></td>
                                    </tr>
                                    <tr class="emi-row">
                                        <td>05 Feb 2024</td>
                                        <td>₹15,000</td>
                                        <td>₹12,850</td>
                                        <td>₹2,150</td>
                                        <td><span class="badge bg-success">Paid</span></td>
                                    </tr>
                                    <tr class="emi-row">
                                        <td class="due-soon">05 Mar 2024</td>
                                        <td>₹15,000</td>
                                        <td>₹12,950</td>
                                        <td>₹2,050</td>
                                        <td><span class="badge bg-warning">Due</span></td>
                                    </tr>
                                    <tr class="emi-row">
                                        <td>05 Apr 2024</td>
                                        <td>₹15,000</td>
                                        <td>₹13,050</td>
                                        <td>₹1,950</td>
                                        <td><span class="badge bg-secondary">Upcoming</span></td>
                                    </tr>
                                    <!-- Add more rows as needed -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Payment Modal -->
<div class="modal fade payment-modal" id="paymentModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Pay EMI</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-4">
                    <h6 class="mb-3">Select Payment Method</h6>
                    <div class="payment-option" onclick="selectPaymentMethod(this)">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-university me-3 fa-lg text-primary"></i>
                            <div>
                                <div class="fw-medium">Net Banking</div>
                                <small class="text-muted">Pay using your bank account</small>
                            </div>
                        </div>
                    </div>
                    <div class="payment-option" onclick="selectPaymentMethod(this)">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-credit-card me-3 fa-lg text-primary"></i>
                            <div>
                                <div class="fw-medium">Credit/Debit Card</div>
                                <small class="text-muted">Pay using your card</small>
                            </div>
                        </div>
                    </div>
                    <div class="payment-option" onclick="selectPaymentMethod(this)">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-wallet me-3 fa-lg text-primary"></i>
                            <div>
                                <div class="fw-medium">UPI</div>
                                <small class="text-muted">Pay using UPI</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="border-top pt-3">
                    <div class="d-flex justify-content-between mb-2">
                        <div>EMI Amount</div>
                        <div class="fw-medium">₹15,000</div>
                    </div>
                    <div class="d-flex justify-content-between mb-2">
                        <div>Processing Fee</div>
                        <div class="fw-medium">₹0</div>
                    </div>
                    <div class="d-flex justify-content-between fw-bold mt-2">
                        <div>Total Amount</div>
                        <div>₹15,000</div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" onclick="processPayment()">Pay ₹15,000</button>
            </div>
        </div>
    </div>
</div>

<script>
// Previous script content remains same, adding new functions below

function toggleNotifications() {
    const panel = document.getElementById('notificationPanel');
    panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
}

function selectPaymentMethod(element) {
    // Remove selected class from all options
    document.querySelectorAll('.payment-option').forEach(option => {
        option.classList.remove('selected');
    });
    // Add selected class to clicked option
    element.classList.add('selected');
}

function processPayment() {
    // Simulate payment processing
    alert('Payment processed successfully!');
    // Close modal
    const modal = bootstrap.Modal.getInstance(document.getElementById('paymentModal'));
    modal.hide();
    // Update EMI status (in real application, this would be handled by backend)
    location.reload();
}

// Close notification panel when clicking outside
document.addEventListener('click', function(event) {
    const panel = document.getElementById('notificationPanel');
    const notificationBtn = event.target.closest('.notification-badge');
    
    if (!notificationBtn && panel.style.display === 'block') {
        panel.style.display = 'none';
    }
});
</script>

</body>
</html>