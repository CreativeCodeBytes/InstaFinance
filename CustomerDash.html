<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insta Finance Loan Portal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="CustomerDash.css">
</head>
<body>

<!-- Login Form -->
<div class="login-container" id="loginForm">
    <img src="Images/Logo.png" 
         alt="Logo" class="login-logo">
    <h2 class="login-title">Customer Login</h2>
    <form id="customerLoginForm">
        <div class="mb-4">
            <label for="username" class="form-label">Username</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-user"></i></span>
                <input type="text" class="form-control" id="username" required>
            </div>
        </div>
        <div class="mb-4">
            <label for="password" class="form-label">Password</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                <input type="password" class="form-control" id="password" required>
            </div>
        </div>
        <button type="submit" class="btn btn-custom btn-primary w-100">
            <i class="fas fa-sign-in-alt me-2"></i> Login
        </button>
    </form>
</div>

<!-- Dashboard -->
<div class="dashboard" id="dashboard">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="Images/Logo.png" 
                     alt="Logo" class="logo"> Insta Finance Loan Portal
            </a>
            <div class="d-flex align-items-center gap-3">
                <div class="notification-badge">
                    <button class="btn btn-custom btn-logout" onclick="toggleNotifications()">
                        <i class="fas fa-bell"></i>
                    </button>
                    <span class="notification-count">3</span>
                </div>
                <p class="welcome-text" id="welcomeMessage"></p>
                <button class="btn btn-custom btn-logout" onclick="logout()">
                    <i class="fas fa-sign-out-alt me-2"></i>Logout
                </button>
            </div>
        </div>
    </nav>

    <!-- Notifications Panel -->
    <div class="notification-panel" id="notificationPanel">
        <div class="p-3 border-bottom">
            <h6 class="mb-0">Notifications</h6>
        </div>
        <div class="notification-item">
            <div class="d-flex align-items-center">
                <i class="fas fa-clock text-warning me-2"></i>
                <div>
                    <p class="mb-1 fw-medium">EMI Due Soon</p>
                    <small class="text-muted">Your EMI of ₹15,000 is due in 3 days</small>
                </div>
            </div>
        </div>
        <div class="notification-item">
            <div class="d-flex align-items-center">
                <i class="fas fa-check-circle text-success me-2"></i>
                <div>
                    <p class="mb-1 fw-medium">Payment Successful</p>
                    <small class="text-muted">Last EMI payment received</small>
                </div>
            </div>
        </div>
        <div class="notification-item">
            <div class="d-flex align-items-center">
                <i class="fas fa-info-circle text-primary me-2"></i>
                <div>
                    <p class="mb-1 fw-medium">Statement Generated</p>
                    <small class="text-muted">Monthly statement is ready</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Content -->
    <div class="container mt-4">
        <!-- Loan Details Card -->
        <div class="card loan-details-card mb-4">
            <div class="card-body">
                <h5 class="card-title">
                    <i class="fas fa-file-invoice-dollar me-2 text-primary"></i>
                    Loan Details
                </h5>
                <div class="loan-info">
                    <div class="loan-info-item">
                        <div class="info-label">Loan Account Number</div>
                        <div class="info-value">LOAN123456789</div>
                    </div>
                    <div class="loan-info-item">
                        <div class="info-label">Approved Amount</div>
                        <div class="info-value">₹5,00,000</div>
                    </div>
                    <div class="loan-info-item">
                        <div class="info-label">Loan Tenure</div>
                        <div class="info-value">36 Months</div>
                    </div>
                    <div class="loan-info-item">
                        <div class="info-label">Interest Rate</div>
                        <div class="info-value">8.5% p.a.</div>
                    </div>
                    <div class="loan-info-item">
                        <div class="info-label">EMI Amount</div>
                        <div class="info-value">₹15,000</div>
                    </div>
                    <div class="loan-info-item">
                        <div class="info-label">Next Due Date</div>
                        <div class="info-value due-soon">05 Mar 2024</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- EMI Payment and Schedule -->
        <div class="row">
            <div class="col-md-4">
                <div class="card loan-status-card">
                    <div class="card-body">
                        <h5 class="card-title">
                            <i class="fas fa-money-bill-wave me-2 text-primary"></i>
                            Pay EMI
                        </h5>
                        <div class="text-center mb-4">
                            <div class="stat-number">₹15,000</div>
                            <div class="text-muted">Due on 05 Mar 2024</div>
                        </div>
                        <button class="btn btn-custom btn-primary w-100" data-bs-toggle="modal" data-bs-target="#paymentModal">
                            <i class="fas fa-credit-card me-2"></i>Pay Now
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-md-8">
                <div class="card loan-status-card">
                    <div class="card-body">
                        <h5 class="card-title">
                            <i class="fas fa-calendar-alt me-2 text-primary"></i>
                            EMI Schedule
                        </h5>
                        <div class="emi-schedule">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Due Date</th>
                                        <th>EMI Amount</th>
                                        <th>Principal</th>
                                        <th>Interest</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="emi-row">
                                        <td>05 Jan 2024</td>
                                        <td>₹15,000</td>
                                        <td>₹12,750</td>
                                        <td>₹2,250</td>
                                        <td><span class="badge bg-success">Paid</span></td>
                                    </tr>
                                    <tr class="emi-row">
                                        <td>05 Feb 2024</td>
                                        <td>₹15,000</td>
                                        <td>₹12,850</td>
                                        <td>₹2,150</td>
                                        <td><span class="badge bg-success">Paid</span></td>
                                    </tr>
                                    <tr class="emi-row">
                                        <td class="due-soon">05 Mar 2024</td>
                                        <td>₹15,000</td>
                                        <td>₹12,950</td>
                                        <td>₹2,050</td>
                                        <td><span class="badge bg-warning">Due</span></td>
                                    </tr>
                                    <tr class="emi-row">
                                        <td>05 Apr 2024</td>
                                        <td>₹15,000</td>
                                        <td>₹13,050</td>
                                        <td>₹1,950</td>
                                        <td><span class="badge bg-secondary">Upcoming</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Payment Modal -->
<div class="modal fade payment-modal" id="paymentModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Pay EMI</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-4">
                    <h6 class="mb-3">Select Payment Method</h6>
                    <div class="payment-option" onclick="selectPaymentMethod(this)">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-university me-3 fa-lg text-primary"></i>
                            <div>
                                <div class="fw-medium">Net Banking</div>
                                <small class="text-muted">Pay using your bank account</small>
                            </div>
                        </div>
                    </div>
                    <div class="payment-option" onclick="selectPaymentMethod(this)">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-credit-card me-3 fa-lg text-primary"></i>
                            <div>
                                <div class="fw-medium">Credit/Debit Card</div>
                                <small class="text-muted">Pay using your card</small>
                            </div>
                        </div>
                    </div>
                    <div class="payment-option" onclick="selectPaymentMethod(this)">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-wallet me-3 fa-lg text-primary"></i>
                            <div>
                                <div class="fw-medium">UPI</div>
                                <small class="text-muted">Pay using UPI</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="border-top pt-3">
                    <div class="d-flex justify-content-between mb-2">
                        <div>EMI Amount</div>
                        <div class="fw-medium">₹15,000</div>
                    </div>
                    <div class="d-flex justify-content-between mb-2">
                        <div>Processing Fee</div>
                        <div class="fw-medium">₹0</div>
                    </div>
                    <div class="d-flex justify-content-between fw-bold mt-2">
                        <div>Total Amount</div>
                        <div>₹15,000</div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" onclick="processPayment()">Pay ₹15,000</button>
            </div>
        </div>
    </div>
</div>
<script src="CustomerDash.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>